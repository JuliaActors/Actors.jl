<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Behaviors · Actors.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">Actors.jl</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../intro/">Introduction</a></li><li><a class="tocitem" href="../actors/">Actors</a></li><li class="is-active"><a class="tocitem" href>Behaviors</a><ul class="internal"><li><a class="tocitem" href="#Behavior-representation"><span>Behavior representation</span></a></li><li><a class="tocitem" href="#dispatch"><span>Behavior Dispatch</span></a></li><li><a class="tocitem" href="#Setting-and-changing-behavior"><span>Setting and changing behavior</span></a></li></ul></li><li><a class="tocitem" href="../api/">Actor API</a></li><li><a class="tocitem" href="../examples/">Examples</a></li><li><span class="tocitem">Internals</span><ul><li><a class="tocitem" href="../interface/">Interface</a></li><li><a class="tocitem" href="../protocol/">Message Protocol</a></li><li><a class="tocitem" href="../diagnosis/">Diagnosis</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Behaviors</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Behaviors</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaActors/Actors.jl/blob/master/docs/src/behaviors.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Behaviors"><a class="docs-heading-anchor" href="#Behaviors">Behaviors</a><a id="Behaviors-1"></a><a class="docs-heading-anchor-permalink" href="#Behaviors" title="Permalink"></a></h1><p>A behavior is a ...</p><blockquote><p>... function to express what an actor does when it processes a message. <sup class="footnote-reference"><a id="citeref-1" href="#footnote-1">[1]</a></sup></p><p>Two lists of identifiers are used in a behavior definition. Values for the first list of parameters must be specified when the actor is created. This list is called the <em>acquaintance list</em>. The second list of parameters, called the <em>communication list</em>, gets its bindings from an incoming communication. An actor executes commands in its script in the <em>environment</em> defined by the bindings of the identifiers in the acquaintance and communication lists. <sup class="footnote-reference"><a id="citeref-2" href="#footnote-2">[2]</a></sup></p></blockquote><p>From this we get for a behavior function <span>$f$</span> at instance <span>$i$</span>:</p><div>\[\begin{array}{lrl}
f_i(a_i, c_i) &amp; \rightarrow &amp;\{a_{i+1},\{\tau_u,\tau_v, ...\},\{\alpha_x,\alpha_y,...\},f_{i+1}\} \quad\\
\textrm{with} &amp; a: &amp; \textrm{acquaintance list,} \\
 &amp; c: &amp; \textrm{communication list,} \\
 &amp; \tau: &amp; \textrm{tasks created,} \\
 &amp; \alpha: &amp; \textrm{actors created.} \\
\end{array}\]</div><p>The behavior function may change its acquaintances or make new ones and thus change its acquaintance list from <span>$a_i$</span> to <span>$a_{i+1}$</span> and may also specify a replacement behavior <span>$f_{i+1}$</span> for the subsequent communication.</p><h2 id="Behavior-representation"><a class="docs-heading-anchor" href="#Behavior-representation">Behavior representation</a><a id="Behavior-representation-1"></a><a class="docs-heading-anchor-permalink" href="#Behavior-representation" title="Permalink"></a></h2><p><code>Actors</code> represents a behavior as a <a href="../api/#Actors.Func"><code>Func</code></a> containing</p><ul><li>a callable object <code>f</code> (function, functor, ...) together with </li><li>acquaintance arguments <code>a...</code> and <code>kw...</code> (keyword arguments) to it. </li></ul><p>From those a <code>Func</code> creates a partial function (a closure) <code>ϕ(a...; kw...)</code> which then can be executed with the communication arguments <code>c...</code>:</p><pre><code class="language-julia-repl">julia&gt; using Actors

julia&gt; f(s, t, u, v; w=1, x=1) = s + t + u + v + w + x   # a function
f (generic function with 1 method)

julia&gt; a = (1, 1)                    # define acquaintance arguments
(1, 1)

julia&gt; kw = (w=2, x=2)               # define acquaintance keyword arguments
(w = 2, x = 2)

julia&gt; func = Func(f, a...; kw...);  # create a Func with them

julia&gt; c = (1, 1)                    # define communication arguments
(1, 1)

julia&gt; func(c...)                    # execute func with them
8

julia&gt; f(a..., c...; kw...)          # this is how f gets dispatched
8</code></pre><p>The acquaintance (or partial) arguments can constrain the behavior function <code>f</code> to work with e.g. given values, a certain database, a state variable, a user request ... </p><h2 id="dispatch"><a class="docs-heading-anchor" href="#dispatch">Behavior Dispatch</a><a id="dispatch-1"></a><a class="docs-heading-anchor-permalink" href="#dispatch" title="Permalink"></a></h2><p>On a message, an actor composes its partial arguments with the newly received ones and dispatches the behavior function. The arguments are composed from left to right, first the partial arguments, then the received ones.</p><h2 id="Setting-and-changing-behavior"><a class="docs-heading-anchor" href="#Setting-and-changing-behavior">Setting and changing behavior</a><a id="Setting-and-changing-behavior-1"></a><a class="docs-heading-anchor-permalink" href="#Setting-and-changing-behavior" title="Permalink"></a></h2><p>An actor&#39;s behavior is set with <a href="../api/#Actors.spawn"><code>spawn</code></a> and gets changed with <a href="../api/#Actors.become!"><code>become!</code></a>. Inside a behavior function an actor can change its own behavior with <a href="../api/#Actors.become"><code>become</code></a>. In both cases a callable object together with acquaintance arguments can be specified as new behavior. This is  effective when the next message gets processed.</p><section class="footnotes is-size-7"><ul><li class="footnote" id="footnote-1"><a class="tag is-link" href="#citeref-1">1</a>see the <a href="https://en.wikipedia.org/wiki/Actor_model#Behaviors">Actor Model</a> on Wikipedia.</li><li class="footnote" id="footnote-2"><a class="tag is-link" href="#citeref-2">2</a>Gul Agha 1986. <em>Actors. a model of concurrent computation in distributed systems</em>, MIT.- p. 30</li></ul></section></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../actors/">« Actors</a><a class="docs-footer-nextpage" href="../api/">Actor API »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Thursday 26 November 2020 20:25">Thursday 26 November 2020</span>. Using Julia version 1.5.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
