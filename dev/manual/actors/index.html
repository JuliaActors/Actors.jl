<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Actors and Julia · Actors.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.svg" alt="Actors.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit">Actors.jl</span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Introduction</a></li><li><input class="collapse-toggle" id="menuitem-2" type="checkbox"/><label class="tocitem" for="menuitem-2"><span class="docs-label">Tutorials</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../tutorial/install/">Install and Use <code>Actors</code></a></li><li><a class="tocitem" href="../../tutorial/intro/">Getting Started with Actors</a></li><li><a class="tocitem" href="../../tutorial/tabletennis/">Simulate a Game</a></li><li><a class="tocitem" href="../../tutorial/stack/">Implement a Stack</a></li><li><a class="tocitem" href="../../tutorial/dictsrv/">Implement a thread-safe <code>Dict</code></a></li><li><a class="tocitem" href="../../tutorial/supervise/">Supervise Actors</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">How to</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../howto/spawn/"><code>spawn</code> actors</a></li><li><a class="tocitem" href="../../howto/communicate/">communicate with actors</a></li><li><a class="tocitem" href="../../howto/information/">get information from actors</a></li><li><a class="tocitem" href="../../howto/share/">(not) share variables</a></li><li><a class="tocitem" href="../../howto/failure/">deal with failures</a></li><li><a class="tocitem" href="../../howto/register/"><code>register</code> actors</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox" checked/><label class="tocitem" for="menuitem-4"><span class="docs-label">On Actors</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../basics/">Actor Model</a></li><li class="is-active"><a class="tocitem" href>Actors and Julia</a><ul class="internal"><li><a class="tocitem" href="#Julia-is-Well-Suited-for-Actors"><span>Julia is Well Suited for Actors</span></a></li><li><a class="tocitem" href="#Actors-Complement-Julia"><span>Actors Complement Julia</span></a></li><li><a class="tocitem" href="#Multi-threading"><span>Multi-threading</span></a></li><li><a class="tocitem" href="#Distributed-Computing"><span>Distributed Computing</span></a></li><li><a class="tocitem" href="#Fault-Tolerance"><span>Fault Tolerance</span></a></li><li><a class="tocitem" href="#Actor-Isolation"><span>Actor Isolation</span></a></li><li><a class="tocitem" href="#Actor-Local-Dictionary"><span>Actor Local Dictionary</span></a></li></ul></li><li><a class="tocitem" href="../behaviors/">Actor Behavior</a></li><li><a class="tocitem" href="../protocol/">Messaging Protocol</a></li><li><input class="collapse-toggle" id="menuitem-4-5" type="checkbox"/><label class="tocitem" for="menuitem-4-5"><span class="docs-label">Error Handling</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../errors/">Error Handling Overview</a></li><li><a class="tocitem" href="../connections/">Connections</a></li><li><a class="tocitem" href="../monitors/">Monitors</a></li><li><a class="tocitem" href="../supervisors/">Supervisors</a></li><li><a class="tocitem" href="../node_failures/">Node Failures</a></li><li><a class="tocitem" href="../checkpoints/">Checkpointing</a></li><li><a class="tocitem" href="../fault_tolerance/">Fault Tolerance</a></li></ul></li><li><a class="tocitem" href="../infrastructure/">More Useful Stuff</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox"/><label class="tocitem" for="menuitem-5"><span class="docs-label">Reference</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-5-1" type="checkbox"/><label class="tocitem" for="menuitem-5-1"><span class="docs-label">API</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../api/api/"><code>Actors</code> Module</a></li><li><a class="tocitem" href="../../api/types/">Basic Types</a></li><li><a class="tocitem" href="../../api/starting/">Starting Actors, creating links</a></li><li><a class="tocitem" href="../../api/primitives/">Actor Primitives</a></li><li><a class="tocitem" href="../../api/comm/">Communication primitives</a></li><li><a class="tocitem" href="../../api/user_api/">User API</a></li><li><a class="tocitem" href="../../api/registry/">Actor Registry</a></li><li><a class="tocitem" href="../../api/connect/">Connections</a></li><li><a class="tocitem" href="../../api/monitor/">Monitors</a></li><li><a class="tocitem" href="../../api/supervision/">Supervisors</a></li><li><a class="tocitem" href="../../api/checkpointing/">Checkpointing</a></li><li><a class="tocitem" href="../../api/utils/">Utilities</a></li><li><a class="tocitem" href="../../api/diagnosis/">Diagnosis</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5-2" type="checkbox"/><label class="tocitem" for="menuitem-5-2"><span class="docs-label">Examples</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../examples/dining_phil/">Dining Philosophers</a></li><li><a class="tocitem" href="../../examples/prod_cons/">Producer-Consumer Problem</a></li><li><a class="tocitem" href="../../examples/examples/">Further Examples</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5-3" type="checkbox"/><label class="tocitem" for="menuitem-5-3"><span class="docs-label">Internals</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../reference/diag/">Diagnostics</a></li><li><a class="tocitem" href="../../reference/internals/">Internals</a></li><li><a class="tocitem" href="../../reference/messages/">Messages</a></li><li><a class="tocitem" href="../../reference/interface/">Interface</a></li></ul></li><li><a class="tocitem" href="../../reference/glossary/">A Glossary of Actor Terms</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">On Actors</a></li><li class="is-active"><a href>Actors and Julia</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Actors and Julia</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaActors/Actors.jl/blob/master/docs/src/manual/actors.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Actors-and-Julia"><a class="docs-heading-anchor" href="#Actors-and-Julia">Actors and Julia</a><a id="Actors-and-Julia-1"></a><a class="docs-heading-anchor-permalink" href="#Actors-and-Julia" title="Permalink"></a></h1><p>In one of his later papers (2010) Carl Hewitt wrote:</p><blockquote><p>It is important to distinguish the following:</p><ul><li>modeling arbitrary computational systems using Actors. It is difficult to find physical computational systems (regardless of how idiosyncratic) that cannot be modeled using Actors.</li><li>securely implementing practical computational applications using Actors remains an active area of research and development. <sup class="footnote-reference"><a id="citeref-1" href="#footnote-1">[1]</a></sup></li></ul></blockquote><p>We focus on the second point, namely on practical computational applications.</p><h2 id="Julia-is-Well-Suited-for-Actors"><a class="docs-heading-anchor" href="#Julia-is-Well-Suited-for-Actors">Julia is Well Suited for Actors</a><a id="Julia-is-Well-Suited-for-Actors-1"></a><a class="docs-heading-anchor-permalink" href="#Julia-is-Well-Suited-for-Actors" title="Permalink"></a></h2><p><code>Actors</code> uses Julia&#39;s <code>Task</code>s to execute functions concurrently and <code>Channel</code>s to let them communicate. An actor has a Julia function or callable object as <a href="../behaviors/">behavior</a>. That gets parametrized with the arguments given to the actor at startup (acquaintances). The other arguments are delivered via messages (communication). Then an actor executes its behavior. Actors incorporate processing, storage and communication. Functions thus become responsive and composable in new ways.</p><h2 id="Actors-Complement-Julia"><a class="docs-heading-anchor" href="#Actors-Complement-Julia">Actors Complement Julia</a><a id="Actors-Complement-Julia-1"></a><a class="docs-heading-anchor-permalink" href="#Actors-Complement-Julia" title="Permalink"></a></h2><p>Actors give Julia users additional ways to deal with concurrency. Sutter and Larus justified that as follows:</p><blockquote><p>We need higher-level language abstractions, including evolutionary extensions to current imperative languages, so that existing applications can incrementally become concurrent. The programming model must make concurrency easy to understand and reason about, not only during initial development but also during maintenance. <sup class="footnote-reference"><a id="citeref-2" href="#footnote-2">[2]</a></sup></p></blockquote><p>Actors support clear, correct concurrent programs and are an alternative to sharing memory in concurrent computing:</p><ul><li>Share by communicating <sup class="footnote-reference"><a id="citeref-3" href="#footnote-3">[3]</a></sup> to functions and</li><li>use functions to localize variables and</li><li>make actors serve mutable variables without using locks.</li></ul><p>You can use actors in common multi-threading or distributed Julia code.</p><h2 id="Multi-threading"><a class="docs-heading-anchor" href="#Multi-threading">Multi-threading</a><a id="Multi-threading-1"></a><a class="docs-heading-anchor-permalink" href="#Multi-threading" title="Permalink"></a></h2><p>Julia&#39;s manual encourages the use of locks <sup class="footnote-reference"><a id="citeref-4" href="#footnote-4">[4]</a></sup> in order to ensure data-race freedom. But be aware that</p><blockquote><p>they are not composable. You can’t take two correct lock-based pieces of code, combine them, and know that the result is still correct. Modern software development relies on the ability to compose libraries into larger programs, and so it is a serious difficulty that we cannot build on lock-based components without examining their implementations. <sup class="footnote-reference"><a id="citeref-5" href="#footnote-5">[5]</a></sup></p></blockquote><p>An actor controlling the access to a variable or to another resource is lock-free and there are no limits to composability. Therefore if you write multi-threaded programs which should be composable or maybe used by other programs within a lock, you might consider using <code>Actors</code>.</p><h2 id="Distributed-Computing"><a class="docs-heading-anchor" href="#Distributed-Computing">Distributed Computing</a><a id="Distributed-Computing-1"></a><a class="docs-heading-anchor-permalink" href="#Distributed-Computing" title="Permalink"></a></h2><p>Actors are location transparent. You can share their links across workers to access the same actor on different workers. If local links are sent to a remote actor, they are automatically converted to remote links.</p><h2 id="Fault-Tolerance"><a class="docs-heading-anchor" href="#Fault-Tolerance">Fault Tolerance</a><a id="Fault-Tolerance-1"></a><a class="docs-heading-anchor-permalink" href="#Fault-Tolerance" title="Permalink"></a></h2><p><code>Actors</code> provides explicit methods for fault tolerant computing used mainly in telecommunications and internet services with Erlang/OTP <sup class="footnote-reference"><a id="citeref-6" href="#footnote-6">[6]</a></sup>:</p><ul><li><em>group</em> actors and force them to fail together,</li><li><em>monitor</em> tasks and actors and take action if they fail or time out,</li><li><em>supervise</em> tasks and actors and restart them if a failure occurs.</li></ul><p>Based on that <em>checkpoint</em> and <em>restore</em> as used for  fault-tolerance in high performance computing (HPC) can be implemented.</p><div class="admonition is-info"><header class="admonition-header">This is currently work in progress!</header><div class="admonition-body"><p>Those features should be considered experimental!</p></div></div><h2 id="Actor-Isolation"><a class="docs-heading-anchor" href="#Actor-Isolation">Actor Isolation</a><a id="Actor-Isolation-1"></a><a class="docs-heading-anchor-permalink" href="#Actor-Isolation" title="Permalink"></a></h2><p>In order to avoid race conditions actors have to be strongly isolated from each other:</p><ol><li>they do not share state,</li><li>they must not share mutable variables.</li></ol><p>An actor stores the behavior function and arguments to it, results of computations and more. Thus it has state and this influences how it behaves.</p><p>But it does <strong>not share</strong> its state variables with its environment (only for diagnostic purposes). The <a href="../../api/user_api/">user API functions</a> functions are a safe way to access actor state via messaging.</p><p>Mutable variables in Julia can be sent over local channels without being copied. Accessing those variables from multiple threads can cause race conditions. The programmer has to be careful to avoid those situations either by</p><ul><li>not sharing them between actors,</li><li>copying them when sending them to actors or</li><li>representing them by an actor.</li></ul><p>When sending mutable variables over remote links, they are automatically copied.</p><h2 id="Actor-Local-Dictionary"><a class="docs-heading-anchor" href="#Actor-Local-Dictionary">Actor Local Dictionary</a><a id="Actor-Local-Dictionary-1"></a><a class="docs-heading-anchor-permalink" href="#Actor-Local-Dictionary" title="Permalink"></a></h2><p>Since actors are Julia tasks, they have a local dictionary in which you can store values. You can use <a href="https://docs.julialang.org/en/v1/base/parallel/#Base.task_local_storage-Tuple{Any}"><code>task_local_storage</code></a> to access it in behavior functions. But normally argument passing should be enough to handle values in actors.</p><section class="footnotes is-size-7"><ul><li class="footnote" id="footnote-1"><a class="tag is-link" href="#citeref-1">1</a>Carl Hewitt. Actor Model of Computation: Scalable Robust Information Systems.- <a href="https://arxiv.org/abs/1008.1459">arXiv:1008.1459</a></li><li class="footnote" id="footnote-2"><a class="tag is-link" href="#citeref-2">2</a>H. Sutter and J. Larus. Software and the concurrency revolution. ACM Queue, 3(7), 2005.</li><li class="footnote" id="footnote-3"><a class="tag is-link" href="#citeref-3">3</a>&quot;Do not communicate by sharing memory; instead, share memory by communicating.&quot; see Effective Go: <a href="https://golang.org/doc/effective_go.html#sharing">Share by Communicating</a></li><li class="footnote" id="footnote-4"><a class="tag is-link" href="#citeref-4">4</a>see <a href="https://docs.julialang.org/en/v1/manual/multi-threading/#Data-race-freedom">Data race freedom</a> in the Julia manual.</li><li class="footnote" id="footnote-5"><a class="tag is-link" href="#citeref-5">5</a>H. Sutter and J. Larus. see above</li><li class="footnote" id="footnote-6"><a class="tag is-link" href="#citeref-6">6</a>see Joe Armstrong, 2003: <a href="https://erlang.org/download/armstrong_thesis_2003.pdf">Making reliable distributed systems in the presence of software errors</a></li></ul></section></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../basics/">« Actor Model</a><a class="docs-footer-nextpage" href="../behaviors/">Actor Behavior »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Monday 19 April 2021 17:41">Monday 19 April 2021</span>. Using Julia version 1.6.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
