<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API · Actors.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="Actors.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit">Actors.jl</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Actors Documentation</a></li><li><input class="collapse-toggle" id="menuitem-2" type="checkbox"/><label class="tocitem" for="menuitem-2"><span class="docs-label">Manual</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../intro/">Getting Started with Actors</a></li><li><a class="tocitem" href="../basics/">Actor Model</a></li><li><a class="tocitem" href="../behaviors/">Behaviors</a></li><li><a class="tocitem" href="../actors/"><code>Actors</code> and Julia</a></li><li><a class="tocitem" href="../protocol/">The <code>Actors</code> Protocol</a></li><li><a class="tocitem" href="../errors/">Error Handling</a></li><li><a class="tocitem" href="../infrastructure/">Infrastructure</a></li><li><a class="tocitem" href="../glossary/">A Glossary of Actor Terms</a></li></ul></li><li class="is-active"><a class="tocitem" href>API</a><ul class="internal"><li><a class="tocitem" href="#Basic-Types"><span>Basic Types</span></a></li><li><a class="tocitem" href="#Starting-Actors,-creating-links"><span>Starting Actors, creating links</span></a></li><li><a class="tocitem" href="#Actor-Primitives"><span>Actor Primitives</span></a></li><li><a class="tocitem" href="#API-Primitives"><span>API Primitives</span></a></li><li><a class="tocitem" href="#User-API"><span>User API</span></a></li><li><a class="tocitem" href="#Actor-Tasks"><span>Actor Tasks</span></a></li><li><a class="tocitem" href="#Actor-Registry"><span>Actor Registry</span></a></li><li><a class="tocitem" href="#Actor-Supervision"><span>Actor Supervision</span></a></li><li><a class="tocitem" href="#Diagnosis"><span>Diagnosis</span></a></li></ul></li><li><a class="tocitem" href="../examples/">Examples</a></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox"/><label class="tocitem" for="menuitem-5"><span class="docs-label">Internals</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../messages/">Messages</a></li><li><a class="tocitem" href="../interface/">Interface</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaActors/Actors.jl/blob/master/docs/src/api.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Actor-API"><a class="docs-heading-anchor" href="#Actor-API">Actor API</a><a id="Actor-API-1"></a><a class="docs-heading-anchor-permalink" href="#Actor-API" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-binding" id="Actors.Actors" href="#Actors.Actors"><code>Actors.Actors</code></a> — <span class="docstring-category">Module</span></header><section><div><p><code>Actors</code> implements the classical Actor Model and is  based on the interface defined in <code>ActorInterfaces.Classic</code>.  It provides</p><ul><li>basic primitives for creating actors,   sending messages to them and changing behavior:   <a href="#ActorInterfaces.Classic.spawn"><code>spawn</code></a>, <a href="#ActorInterfaces.Classic.send"><code>send</code></a>, <a href="#ActorInterfaces.Classic.become"><code>become</code></a>    with <code>Addr</code> and <a href="#ActorInterfaces.Classic.self"><code>self</code></a>,</li><li><a href="#ActorInterfaces.Classic.onmessage"><code>onmessage</code></a>, executed by an actor on a    received message,</li><li>a <code>Msg</code> message protocol with <code>onmessage</code> and    predefined messages,</li><li>an actor API based on the protocol with primitives   <a href="#Actors.receive"><code>receive</code></a> and <a href="#Actors.request"><code>request</code></a> and further    API functions <a href="#Actors.become!"><code>become!</code></a>, <a href="#Actors.call"><code>call</code></a>,    <a href="#Actors.cast"><code>cast</code></a>, <a href="#Actors.exec"><code>exec</code></a>, <a href="#Actors.exit!"><code>exit!</code></a>,    <a href="#Actors.init!"><code>init!</code></a>, <a href="#Actors.query"><code>query</code></a>, <a href="#Actors.term!"><code>term!</code></a>,    <a href="#Actors.update!"><code>update!</code></a>,</li><li>actor tasks with <a href="#Actors.async"><code>async</code></a> and <a href="#Actors.await"><code>await</code></a>,</li><li>an actor registry and more.</li></ul><p>The current stable, registered version is installed with</p><pre><code class="language-julia">pkg&gt; add Actors</code></pre><p>The development version is installed with:</p><pre><code class="language-julia">pkg&gt; add &quot;https://github.com/JuliaActors/Actors.jl&quot;</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaActors/Actors.jl/blob/54234822c72c164efaf30c26a0f6b3e553849d35/src/Actors.jl#L5-L36">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Actors.version" href="#Actors.version"><code>Actors.version</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>Gives the package version.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaActors/Actors.jl/blob/54234822c72c164efaf30c26a0f6b3e553849d35/src/Actors.jl#L39">source</a></section></article><pre><code class="language-julia-repl">julia&gt; using Actors

julia&gt; Actors.version
v&quot;0.1.8&quot;</code></pre><h2 id="Basic-Types"><a class="docs-heading-anchor" href="#Basic-Types">Basic Types</a><a id="Basic-Types-1"></a><a class="docs-heading-anchor-permalink" href="#Basic-Types" title="Permalink"></a></h2><p>The following types are needed for using and extending <code>Actors</code>:</p><article class="docstring"><header><a class="docstring-binding" id="Actors.Msg" href="#Actors.Msg"><code>Actors.Msg</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Abstract type for messages to actors.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaActors/Actors.jl/blob/54234822c72c164efaf30c26a0f6b3e553849d35/src/types.jl#L115">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Actors.Request" href="#Actors.Request"><code>Actors.Request</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Request(x, from::Link)</code></pre><p>A generic <a href="#Actors.Msg"><code>Msg</code></a> for user requests.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaActors/Actors.jl/blob/54234822c72c164efaf30c26a0f6b3e553849d35/src/types.jl#L118-L122">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Actors.Response" href="#Actors.Response"><code>Actors.Response</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Response(y, from::Link=self())</code></pre><p>A <a href="#Actors.Msg"><code>Msg</code></a> representing a response to requests.</p><p><strong>Fields</strong></p><ul><li><code>y</code>: response content,</li><li><code>from::Link</code>: sender link.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaActors/Actors.jl/blob/54234822c72c164efaf30c26a0f6b3e553849d35/src/types.jl#L128-L136">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Actors.Link" href="#Actors.Link"><code>Actors.Link</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Link{C} &lt;: ActorInterfaces.Classic.Addr
Link(chn::C, pid::Int, type::Symbol) where C</code></pre><p>A mailbox for communicating with actors. A concrete type of this must be returned by an actor on creation with <a href="#ActorInterfaces.Classic.spawn"><code>spawn</code></a>.</p><p><strong>Fields/Parameters</strong></p><ul><li><code>chn::C</code>: C can be any type and characterizes the interface   to an actor,</li><li><code>pid::Int</code>: the pid (worker process identifier) of the actor, </li><li><code>mode::Symbol</code>: a symbol characterizing the actor mode.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaActors/Actors.jl/blob/54234822c72c164efaf30c26a0f6b3e553849d35/src/types.jl#L52-L66">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Actors.Bhv" href="#Actors.Bhv"><code>Actors.Bhv</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Bhv(func, a...; kw...)(c...)</code></pre><p>A callable struct to represent actor behavior. It is executed with parameters from the incoming communication.</p><p><strong>Parameters</strong></p><ul><li><code>f::Function</code>: a function,</li><li><code>a...</code>: stored acquaintance parameters to <code>f</code>,</li><li><code>kw...</code>: stored keyword arguments,</li><li><code>c...</code>: parameters from the incoming communication.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaActors/Actors.jl/blob/54234822c72c164efaf30c26a0f6b3e553849d35/src/types.jl#L21-L33">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Actors._ACT" href="#Actors._ACT"><code>Actors._ACT</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">_ACT</code></pre><p>Internal actor status variable.</p><p><strong>Fields</strong></p><ol><li><code>mode::Symbol</code>: the actor mode,</li><li><code>bhv::AbstractBehavior</code>: a partial function or a function object,</li><li><code>init::Union{Nothing,Function}</code>: the init function and its arguments,</li><li><code>term::Union{Nothing,Function}</code>: the terminate function and its arguments,</li><li><code>self::Link</code>: the actor&#39;s address,</li><li><code>name::Union{Nothing,Symbol}</code>: the actor&#39;s registered name.</li><li><code>res::Any</code>: the result of the last behavior execution,</li><li><code>sta::Any</code>: a variable for representing state,</li><li><code>usr::Any</code>: user variable for plugging in something.</li></ol><p>see also: <a href="#Actors.Bhv"><code>Bhv</code></a>, <a href="#Actors.Link"><code>Link</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaActors/Actors.jl/blob/54234822c72c164efaf30c26a0f6b3e553849d35/src/types.jl#L73-L92">source</a></section></article><h2 id="Starting-Actors,-creating-links"><a class="docs-heading-anchor" href="#Starting-Actors,-creating-links">Starting Actors, creating links</a><a id="Starting-Actors,-creating-links-1"></a><a class="docs-heading-anchor-permalink" href="#Starting-Actors,-creating-links" title="Permalink"></a></h2><p><code>Actors.jl</code> doesn&#39;t export its functions to start actors and to create links. Thus other libraries building on it can implement their own actors and links.</p><p>To use <code>Actors</code>&#39;s actors and links you import them explicitly:</p><pre><code class="language-julia">using Actors
import Actors: spawn, newLink</code></pre><p>Then you can create them with the following functions:</p><article class="docstring"><header><a class="docstring-binding" id="ActorInterfaces.Classic.spawn" href="#ActorInterfaces.Classic.spawn"><code>ActorInterfaces.Classic.spawn</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">spawn(bhv; pid=myid(), thrd=false, sticky=false, taskref=nothing, mode=:default)
spawn(f, args...; kwargs...)</code></pre><p>Create an actor with a behavior <code>bhv</code> and return a <a href="#Actors.Link"><code>Link</code></a> to it.</p><p><strong>Parameters</strong></p><ul><li><code>bhv</code>: behavior, callable object (closure or functor)   to execute when a message arrives,</li><li><code>f</code>: a function,</li><li><code>args...</code>: (partial) arguments to it,</li><li><code>pid=myid()</code>: pid of worker process the actor should be started on,</li><li><code>thrd=false</code>: thread number the actor should be started on or <code>false</code>,</li><li><code>sticky=false</code>: if <code>true</code> the actor is started on the current thread,</li><li><code>taskref=nothing</code>: if a <code>Ref{Task}()</code> is given here, it gets the started <code>Task</code>,</li><li><code>mode=:default</code>: mode, the actor should operate in.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaActors/Actors.jl/blob/54234822c72c164efaf30c26a0f6b3e553849d35/src/actor.jl#L72-L92">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Actors.newLink" href="#Actors.newLink"><code>Actors.newLink</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">newLink(size=32; remote=false, pid=myid(), mode=nothing)</code></pre><p>Create a local Link with a buffered <code>Channel</code> <code>size ≥ 1</code>.</p><p><strong>Parameters</strong></p><ul><li><code>size=32</code>: the size of the channel buffer,</li><li><code>remote=false</code>: should a remote link be created,</li><li><code>pid=myid()</code>: optional pid of the remote worker,</li><li><code>mode=nothing</code>: if mode==nothing the mode is automatically   set to <code>:local</code> or <code>:remote</code>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaActors/Actors.jl/blob/54234822c72c164efaf30c26a0f6b3e553849d35/src/links.jl#L6-L17">source</a></section></article><h2 id="Actor-Primitives"><a class="docs-heading-anchor" href="#Actor-Primitives">Actor Primitives</a><a id="Actor-Primitives-1"></a><a class="docs-heading-anchor-permalink" href="#Actor-Primitives" title="Permalink"></a></h2><p>The following primitives characterize actors in the classical Actor Model:</p><article class="docstring"><header><a class="docstring-binding" id="ActorInterfaces.Classic.send" href="#ActorInterfaces.Classic.send"><code>ActorInterfaces.Classic.send</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">send(lk::Link, msg)</code></pre><p>Send a message to an actor.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaActors/Actors.jl/blob/54234822c72c164efaf30c26a0f6b3e553849d35/src/com.jl#L33-L36">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Actors.become!" href="#Actors.become!"><code>Actors.become!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">become!(lk::Link, bhv::Bhv)
become!(lk::Link, func, args1...; kwargs...)
become!(name::Symbol, ....)</code></pre><p>Cause an actor to change behavior.</p><p><strong>Arguments</strong></p><ul><li>actor <code>lk::Link</code> (or <code>name::Symbol</code> if registered),</li><li><code>bhv</code>: a <a href="#Actors.Bhv"><code>Bhv</code></a> or a functor implementing the new behavior,</li><li><code>func::Function</code>: a function,</li><li><code>args1...</code>: (partial) arguments to <code>func</code>,</li><li><code>kwargs...</code>: keyword arguments to <code>func</code>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaActors/Actors.jl/blob/54234822c72c164efaf30c26a0f6b3e553849d35/src/api.jl#L6-L20">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ActorInterfaces.Classic.become" href="#ActorInterfaces.Classic.become"><code>ActorInterfaces.Classic.become</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">become(bhv)
become(func::F, args...; kwargs...) where F&lt;:Function</code></pre><p>Cause your actor to take on a new behavior. This can only be called from inside an actor/behavior.</p><p><strong>Arguments</strong></p><ul><li><code>bhv</code>: a callable object implementing the new behavior,</li><li><code>func::F</code>: callable object,</li><li><code>args1...</code>: (partial) arguments to <code>func</code>,</li><li><code>kwargs...</code>: keyword arguments to <code>func</code>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaActors/Actors.jl/blob/54234822c72c164efaf30c26a0f6b3e553849d35/src/actor.jl#L136-L150">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ActorInterfaces.Classic.self" href="#ActorInterfaces.Classic.self"><code>ActorInterfaces.Classic.self</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">self()</code></pre><p>Get the <a href="#Actors.Link"><code>Link</code></a> of your actor.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaActors/Actors.jl/blob/54234822c72c164efaf30c26a0f6b3e553849d35/src/actor.jl#L124-L128">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Actors.stop" href="#Actors.stop"><code>Actors.stop</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">stop(reason::Symbol)</code></pre><p>Cause your actor to stop with a <code>reason</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaActors/Actors.jl/blob/54234822c72c164efaf30c26a0f6b3e553849d35/src/actor.jl#L167-L171">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ActorInterfaces.Classic.onmessage" href="#ActorInterfaces.Classic.onmessage"><code>ActorInterfaces.Classic.onmessage</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">onmessage(bhv, msg...)</code></pre><p>Default behavior function to execute the current actor  behavior <code>bhv</code> with the message <code>msg</code>. The actor calls <code>bhv(msg)</code> when a message arrives. </p><p><strong>Parameters</strong></p><ul><li><code>bhv</code>: excutable object (closure or functor) taking   parameters <code>msg</code>,</li><li><code>msg</code>: message parameters to <code>bhv</code>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaActors/Actors.jl/blob/54234822c72c164efaf30c26a0f6b3e553849d35/src/actor.jl#L13-L24">source</a></section><section><div><pre><code class="language-none">onmessage(A::_ACT, msg)
onmessage(A::_ACT, mode, msg)</code></pre><p>An actor executes this function when a message arrives.</p><p>Actor libraries or applications can use this to</p><ul><li>plugin the <code>Actors.jl</code> API (first form) or</li><li>extend it to other protocols by using the 2nd form.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaActors/Actors.jl/blob/54234822c72c164efaf30c26a0f6b3e553849d35/src/actor.jl#L27-L38">source</a></section></article><h2 id="API-Primitives"><a class="docs-heading-anchor" href="#API-Primitives">API Primitives</a><a id="API-Primitives-1"></a><a class="docs-heading-anchor-permalink" href="#API-Primitives" title="Permalink"></a></h2><p>To receive messages from actors the following two functions for synchronous and asynchronous communication are useful:</p><article class="docstring"><header><a class="docstring-binding" id="Actors.receive" href="#Actors.receive"><code>Actors.receive</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">receive(lk; timeout=5.0)
receive(lk, from; timeout=5.0)
receive(lk, M; timeout=5.0)
receive(lk, M, from; timeout=5.0)</code></pre><p>Receive a message over a link <code>lk</code>.</p><p>If <code>M</code> or <code>from</code> are provided, <code>receive</code> returns only a  matching message. Other messages in <code>lk</code> are restored to it in their previous order.</p><p><strong>Parameters</strong></p><ul><li><code>lk::Link</code>: local or remote link over which the message is received,</li><li><code>M::Type{&lt;:Msg}</code>: <a href="#Actors.Msg"><code>Msg</code></a> type,</li><li><code>from::Link</code>: local or remote link of sender. If <code>from</code> is   provided, only messages with a <code>from</code> field can be matched.</li><li><code>timeout::Real=5.0</code>: maximum waiting time in seconds.<ul><li>If <code>timeout==0</code>, <code>lk</code> is scanned only for existing messages.</li><li>Set <code>timeout=Inf</code> if you don&#39;t want to timeout. </li></ul></li></ul><p><strong>Returns</strong></p><ul><li>received message or <code>Timeout()</code>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaActors/Actors.jl/blob/54234822c72c164efaf30c26a0f6b3e553849d35/src/com.jl#L53-L77">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Actors.request" href="#Actors.request"><code>Actors.request</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">request(lk::Link, msg::Msg; full=false, timeout::Real=5.0)
request(lk::Link, M::Type{&lt;:Msg}, args...; kwargs...)</code></pre><p>Send a message to an actor, block, receive and return the result.</p><p><strong>Arguments</strong></p><ul><li><code>lk::Link</code>: actor link, or <code>name::Symbol</code> (if registered),</li><li><code>msg::Msg</code>: a message,</li><li><code>Msg::Type{&lt;:Msg}</code>: a message type,</li><li><code>args...</code>: optional arguments to <code>Msg</code>, </li><li><code>full</code>: if <code>true</code> return the full <a href="#Actors.Response"><code>Response</code></a> message.</li><li><code>timeout::Real=5.0</code>: timeout in seconds after which a    <a href="../messages/#Actors.Timeout"><code>Timeout</code></a> is returned,</li><li><code>kwargs...</code>: <code>full</code> or <code>timeout</code>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaActors/Actors.jl/blob/54234822c72c164efaf30c26a0f6b3e553849d35/src/com.jl#L115-L132">source</a></section></article><h2 id="User-API"><a class="docs-heading-anchor" href="#User-API">User API</a><a id="User-API-1"></a><a class="docs-heading-anchor-permalink" href="#User-API" title="Permalink"></a></h2><p><code>Actors</code> has a user interface allowing you to control actors:</p><article class="docstring"><header><a class="docstring-binding" id="Actors.call" href="#Actors.call"><code>Actors.call</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">call(lk::Link, [from::Link,] args2...; timeout::Real=5.0)
call(name::Symbol, ....)</code></pre><p>Call an actor to execute its behavior and to send a  <a href="#Actors.Response"><code>Response</code></a> with the result. </p><p><strong>Arguments</strong></p><ul><li>actor <code>lk::Link</code> (or <code>name::Symbol</code> if registered), </li><li><code>from::Link</code>: sender link, </li><li><code>args2...</code>: remaining arguments to the actor.</li><li><code>timeout::Real=5.0</code>: timeout in seconds.</li></ul><p><strong>Note:</strong> If <code>from</code> is omitted, <code>call</code> blocks and returns the result</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaActors/Actors.jl/blob/54234822c72c164efaf30c26a0f6b3e553849d35/src/api.jl#L29-L44">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Actors.cast" href="#Actors.cast"><code>Actors.cast</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">cast(lk::Link, args2...)
cast(name::Symbol, args2...)</code></pre><p>Cast <code>args2...</code> to the actor <code>lk</code> (or <code>name</code> if registered)  to execute its behavior with <code>args2...</code> without sending a  response. </p><p><strong>Note:</strong> you can prompt the returned value with <a href="#Actors.query"><code>query</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaActors/Actors.jl/blob/54234822c72c164efaf30c26a0f6b3e553849d35/src/api.jl#L49-L59">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Actors.exec" href="#Actors.exec"><code>Actors.exec</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">exec(lk::Link, from::Link, f::Function, args...; kwargs...)
exec(lk::Link, from::Link, func)
exec(lk::Link, func; timeout::Real=5.0)
exec(lk::Link, f::Function, args...; timeout::Real=5.0)
exec(name::Symbol, ....)</code></pre><p>Ask an actor <code>lk</code> (or <code>name</code> if registered) to execute an  arbitrary function and to send the returned value as  <a href="#Actors.Response"><code>Response</code></a>.</p><p><strong>Arguments</strong></p><ul><li>actor <code>lk::Link</code> or <code>name::Symbol</code> if registered,</li><li><code>from::Link</code>: the link a <code>Response</code> should be sent to.</li><li><code>func</code>: a callable object,</li><li><code>f::Function</code>: a function,</li><li><code>args...; kwargs...</code>: arguments and keyword arguments to it,</li><li><code>fu::Bhv</code>: a <a href="#Actors.Bhv"><code>Bhv</code></a> with a callable object and   its arguments,</li><li><code>timeout::Real=5.0</code>: timeout in seconds. Set <code>timeout=Inf</code>    if you don&#39;t want to timeout.</li></ul><p><strong>Note:</strong> If <code>from</code> is ommitted, <code>exec</code> blocks, waits and  returns the result (with a <code>timeout</code>).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaActors/Actors.jl/blob/54234822c72c164efaf30c26a0f6b3e553849d35/src/api.jl#L63-L89">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Actors.exit!" href="#Actors.exit!"><code>Actors.exit!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">exit!(lk::Link, reason=:ok)
exit!(name::Symbol, ....)</code></pre><p>Tell an actor <code>lk</code> (or <code>name</code> if registered) to exit. If it  has a <a href="#Actors._ACT"><code>term</code></a> function, it calls it with  <code>reason</code> as last argument. </p><div class="admonition is-info"><header class="admonition-header">This behavior is not yet fully implemented!</header><div class="admonition-body"><p>It is needed for supervision.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaActors/Actors.jl/blob/54234822c72c164efaf30c26a0f6b3e553849d35/src/api.jl#L99-L112">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Actors.query" href="#Actors.query"><code>Actors.query</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">query(lk::Link, [from::Link,] s::Symbol; timeout::Real=5.0)
query(name::Symbol, ....)</code></pre><p>Query an actor about an internal state variable <code>s</code>. </p><p><strong>Parameters</strong></p><ul><li>actor <code>lk::Link</code> or <code>name::Symbol</code> if registered,</li><li><code>from::Link</code>: sender link,</li><li><code>s::Symbol</code> one of <code>:mode</code>,<code>:bhv</code>,<code>:res</code>,<code>:sta</code>,<code>:usr</code>.</li><li><code>timeout::Real=5.0</code>: </li></ul><p><strong>Note:</strong> If <code>from</code> is omitted, <code>query</code> blocks and returns  the response. In that case there is a <code>timeout</code>.</p><p><strong>Examples</strong></p><pre><code class="language-julia">julia&gt; f(x, y; u=0, v=0) = x+y+u+v  # implement a behavior
f (generic function with 1 method)

julia&gt; fact = spawn(Bhv(f, 1))     # start an actor with it
Link{Channel{Any}}(Channel{Any}(sz_max:32,sz_curr:0), 1, :default)

julia&gt; query(fact, :mode)           # query the mode
:default

julia&gt; cast(fact, 1)                # cast a 2nd argument to it
Actors.Cast((1,))

julia&gt; query(fact, :res)            # query the result
2

julia&gt; query(fact, :sta)            # query the state

julia&gt; query(fact, :bhv)            # query the behavior
Bhv(f, (1,), Base.Iterators.Pairs{Union{},Union{},Tuple{},NamedTuple{(),Tuple{}}}(), Actors.var&quot;#2#4&quot;{Base.Iterators.Pairs{Union{},Union{},Tuple{},NamedTuple{(),Tuple{}}},typeof(f),Tuple{Int64}}(Base.Iterators.Pairs{Union{},Union{},Tuple{},NamedTuple{(),Tuple{}}}(), f, (1,)))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaActors/Actors.jl/blob/54234822c72c164efaf30c26a0f6b3e553849d35/src/api.jl#L135-L175">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Actors.update!" href="#Actors.update!"><code>Actors.update!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">update!(lk::Link, x; s::Symbol=:sta)
update!(lk::Link, arg::Args)
update!(name::Symbol, ....)</code></pre><p>Update an actor&#39;s internal state <code>s</code> with <code>args...</code>.</p><p><strong>Arguments</strong></p><ul><li>actor <code>lk::Link</code> or <code>name::Symbol</code> if registered,</li><li><code>x</code>: value/variable to update the choosen state with,</li><li><code>arg::Args</code>: arguments to update,</li><li><code>s::Symbol</code>: one of <code>:arg</code>,<code>:mode</code>,<code>:name</code>,<code>:self</code>,<code>:sta</code>,<code>:usr</code>.</li></ul><p><em>Note:</em> If you want to update the stored arguments to the  behavior function with <code>s=:arg</code>, you must pass an <a href="#Actors.Args"><code>Args</code></a>  to <code>arg</code>. If <code>Args</code> has keyword arguments, they are merged  with existing keyword arguments to the behavior function.</p><p><strong>Example</strong></p><pre><code class="language-julia">julia&gt; update!(fact, 5)       # update the state variable
Actors.Update(:sta, 5)

julia&gt; query(fact, :sta)      # query it
5

julia&gt; update!(fact, Args(0, u=5, v=5));  # update arguments to the behavior 

julia&gt; call(fact, 0)          # call the actor with 0
10</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaActors/Actors.jl/blob/54234822c72c164efaf30c26a0f6b3e553849d35/src/api.jl#L200-L232">source</a></section></article><p>The following is needed for updating arguments:</p><article class="docstring"><header><a class="docstring-binding" id="Actors.Args" href="#Actors.Args"><code>Actors.Args</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Args(args...; kwargs...)</code></pre><p>A structure for updating arguments to an actor&#39;s behavior.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaActors/Actors.jl/blob/54234822c72c164efaf30c26a0f6b3e553849d35/src/types.jl#L9-L13">source</a></section></article><h2 id="Actor-Tasks"><a class="docs-heading-anchor" href="#Actor-Tasks">Actor Tasks</a><a id="Actor-Tasks-1"></a><a class="docs-heading-anchor-permalink" href="#Actor-Tasks" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Actors.ATask" href="#Actors.ATask"><code>Actors.ATask</code></a> — <span class="docstring-category">Type</span></header><section><div><p>The actor task type.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaActors/Actors.jl/blob/54234822c72c164efaf30c26a0f6b3e553849d35/src/task.jl#L6">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Actors.async" href="#Actors.async"><code>Actors.async</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">async(func::Bhv; pid=myid(), thrd=false, sticky=false, taskref=nothing)</code></pre><p>Start a task to execute <code>func</code> and return an <a href="#Actors.ATask"><code>ATask</code></a>  variable.</p><p>An actor task sends its result to the <code>back</code> link  of the <code>ATask</code> variable and exits immediately.</p><p><strong>Parameters</strong></p><ul><li><code>func::Bhv</code>: </li><li><code>pid=myid()</code>: </li><li><code>thrd=false</code>: </li><li><code>sticky=false</code>: </li><li><code>taskref=nothing</code>: </li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaActors/Actors.jl/blob/54234822c72c164efaf30c26a0f6b3e553849d35/src/task.jl#L12-L27">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Actors.await" href="#Actors.await"><code>Actors.await</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">await(t::ATask; timeout::Real=5.0)</code></pre><p>Await a task reply and return it.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaActors/Actors.jl/blob/54234822c72c164efaf30c26a0f6b3e553849d35/src/task.jl#L36-L40">source</a></section></article><h2 id="Actor-Registry"><a class="docs-heading-anchor" href="#Actor-Registry">Actor Registry</a><a id="Actor-Registry-1"></a><a class="docs-heading-anchor-permalink" href="#Actor-Registry" title="Permalink"></a></h2><p>Actors can be registered with <code>Symbol</code>s to a registry. API functions on actors can then be called with their registered names.</p><article class="docstring"><header><a class="docstring-binding" id="Actors.register" href="#Actors.register"><code>Actors.register</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">register(name::Symbol, lk::Link)</code></pre><p>Register the actor <code>lk</code> with <code>name</code>. Returns <code>true</code> if the  registration succeeds, <code>false</code> if <code>name</code> is already in use.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaActors/Actors.jl/blob/54234822c72c164efaf30c26a0f6b3e553849d35/src/registry.jl#L13-L18">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Actors.unregister" href="#Actors.unregister"><code>Actors.unregister</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">unregister(name::Symbol)</code></pre><p>Remove any registrations associated with <code>name</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaActors/Actors.jl/blob/54234822c72c164efaf30c26a0f6b3e553849d35/src/registry.jl#L27-L31">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Actors.whereis" href="#Actors.whereis"><code>Actors.whereis</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">whereis(name::Symbol)</code></pre><p>Find out whether name is registered. Return the actor link  <code>lk</code> or <code>missing</code> if not found.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaActors/Actors.jl/blob/54234822c72c164efaf30c26a0f6b3e553849d35/src/registry.jl#L40-L45">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Actors.registered" href="#Actors.registered"><code>Actors.registered</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">registered()</code></pre><p>Return an Array of all registered actors in the system.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaActors/Actors.jl/blob/54234822c72c164efaf30c26a0f6b3e553849d35/src/registry.jl#L48-L52">source</a></section></article><p>The registry works transparently over distributed worker processes such that local links are transformed to remote links when shared between workers.</p><h2 id="Actor-Supervision"><a class="docs-heading-anchor" href="#Actor-Supervision">Actor Supervision</a><a id="Actor-Supervision-1"></a><a class="docs-heading-anchor-permalink" href="#Actor-Supervision" title="Permalink"></a></h2><p>This is not yet implemented.</p><article class="docstring"><header><a class="docstring-binding" id="Actors.init!" href="#Actors.init!"><code>Actors.init!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">init!(lk::Link, func, args...; kwargs...)
init!(name::Symbol, ....)</code></pre><p>Tell an actor <code>lk</code> to save the <code>func</code> with the given  arguments as an <a href="#Actors._ACT"><code>init</code></a> function and to execute  it.</p><p>The <code>init</code> function will be called at actor restart.</p><div class="admonition is-info"><header class="admonition-header">This behavior is not yet implemented!</header><div class="admonition-body"><p>It is needed for supervision.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaActors/Actors.jl/blob/54234822c72c164efaf30c26a0f6b3e553849d35/src/api.jl#L116-L130">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Actors.term!" href="#Actors.term!"><code>Actors.term!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">term!(lk::Link, func, args...; kwargs...)
term!(name::Symbol, ....)</code></pre><p>Tell an actor <code>lk</code> (or <code>name::Symbol</code> if registered) to  execute <code>func</code> with the given partial arguments and an exit reason when it terminates. </p><p>The exit reason is added by the actor to <code>args1...</code> when it  exits.</p><div class="admonition is-info"><header class="admonition-header">This behavior is not yet implemented!</header><div class="admonition-body"><p>It is needed for supervision.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaActors/Actors.jl/blob/54234822c72c164efaf30c26a0f6b3e553849d35/src/api.jl#L180-L195">source</a></section></article><h2 id="Diagnosis"><a class="docs-heading-anchor" href="#Diagnosis">Diagnosis</a><a id="Diagnosis-1"></a><a class="docs-heading-anchor-permalink" href="#Diagnosis" title="Permalink"></a></h2><p>In order to develop actor programs, it is useful to have access to the actor tasks and eventually to their stack traces. </p><article class="docstring"><header><a class="docstring-binding" id="Base.istaskfailed-Tuple{Link}" href="#Base.istaskfailed-Tuple{Link}"><code>Base.istaskfailed</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">istaskfailed(lk::Link)</code></pre><p>Returns true if a task associated with <code>lk</code> has failed.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaActors/Actors.jl/blob/54234822c72c164efaf30c26a0f6b3e553849d35/src/diag.jl#L7-L11">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Actors.info" href="#Actors.info"><code>Actors.info</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">info(lk::Link)</code></pre><p>Return the state (eventually the stacktrace) of a task associated  with <code>lk</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaActors/Actors.jl/blob/54234822c72c164efaf30c26a0f6b3e553849d35/src/diag.jl#L14-L19">source</a></section></article><p>For diagnostic purposes it is possible to get access to the actor&#39;s <a href="#Actors._ACT"><code>ACT</code></a> variable:</p><article class="docstring"><header><a class="docstring-binding" id="Actors.diag" href="#Actors.diag"><code>Actors.diag</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">diag(lk::Link, check=0)
diag(name::Symbol, ....)</code></pre><p>Give an actor state or stacktrace.</p><p>If <code>check != 0</code> return the internal <code>_ACT</code> variable of the  actor. This is for diagnosis and testing only!</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaActors/Actors.jl/blob/54234822c72c164efaf30c26a0f6b3e553849d35/src/diag.jl#L28-L37">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../glossary/">« A Glossary of Actor Terms</a><a class="docs-footer-nextpage" href="../examples/">Examples »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Saturday 12 December 2020 08:46">Saturday 12 December 2020</span>. Using Julia version 1.5.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
